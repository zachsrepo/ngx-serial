{"modules":[{"ast":{"type":"Program","start":0,"end":12244,"body":[{"type":"ExportNamedDeclaration","start":0,"end":2779,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":7,"end":2779,"id":{"type":"Identifier","start":13,"end":22,"name":"NgxSerial"},"superClass":null,"body":{"type":"ClassBody","start":23,"end":2779,"body":[{"type":"PropertyDefinition","start":29,"end":34,"static":false,"computed":false,"key":{"type":"Identifier","start":29,"end":33,"name":"port"},"value":null},{"type":"PropertyDefinition","start":39,"end":135,"static":false,"computed":false,"key":{"type":"Identifier","start":39,"end":46,"name":"options"},"value":{"type":"ObjectExpression","start":49,"end":134,"properties":[{"type":"Property","start":51,"end":65,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":51,"end":59,"name":"baudRate"},"value":{"type":"Literal","start":61,"end":65,"raw":"9600","value":9600},"kind":"init"},{"type":"Property","start":67,"end":78,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":67,"end":75,"name":"dataBits"},"value":{"type":"Literal","start":77,"end":78,"raw":"8","value":8},"kind":"init"},{"type":"Property","start":80,"end":94,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":80,"end":86,"name":"parity"},"value":{"type":"Literal","start":88,"end":94,"value":"none","raw":"'none'"},"kind":"init"},{"type":"Property","start":96,"end":111,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":96,"end":106,"name":"bufferSize"},"value":{"type":"Literal","start":108,"end":111,"raw":"256","value":256},"kind":"init"},{"type":"Property","start":113,"end":132,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":113,"end":124,"name":"flowControl"},"value":{"type":"Literal","start":126,"end":132,"value":"none","raw":"'none'"},"kind":"init"}]}},{"type":"PropertyDefinition","start":150,"end":157,"static":false,"computed":false,"key":{"type":"Identifier","start":150,"end":156,"name":"writer"},"value":null},{"type":"PropertyDefinition","start":162,"end":175,"static":false,"computed":false,"key":{"type":"Identifier","start":162,"end":174,"name":"readFunction"},"value":null},{"type":"PropertyDefinition","start":180,"end":204,"static":false,"computed":false,"key":{"type":"Identifier","start":180,"end":196,"name":"controlCharacter"},"value":{"type":"Literal","start":199,"end":203,"value":"\n","raw":"\"\\n\""}},{"type":"PropertyDefinition","start":209,"end":216,"static":false,"computed":false,"key":{"type":"Identifier","start":209,"end":215,"name":"reader"},"value":null},{"type":"PropertyDefinition","start":221,"end":242,"static":false,"computed":false,"key":{"type":"Identifier","start":221,"end":241,"name":"readableStreamClosed"},"value":null},{"type":"PropertyDefinition","start":247,"end":268,"static":false,"computed":false,"key":{"type":"Identifier","start":247,"end":267,"name":"writableStreamClosed"},"value":null},{"type":"PropertyDefinition","start":273,"end":292,"static":false,"computed":false,"key":{"type":"Identifier","start":273,"end":284,"name":"keepReading"},"value":{"type":"Literal","start":287,"end":291,"value":true,"raw":"true"}},{"type":"MethodDefinition","start":297,"end":540,"static":false,"computed":false,"key":{"type":"Identifier","start":297,"end":308,"name":"constructor"},"value":{"type":"FunctionExpression","start":308,"end":540,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":309,"end":321,"name":"readFunction"},{"type":"Identifier","start":323,"end":330,"name":"options"},{"type":"Identifier","start":332,"end":348,"name":"controlCharacter"}],"body":{"type":"BlockStatement","start":350,"end":540,"body":[{"type":"ExpressionStatement","start":360,"end":393,"expression":{"type":"AssignmentExpression","start":360,"end":392,"operator":"=","left":{"type":"MemberExpression","start":360,"end":377,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":360,"end":364},"property":{"type":"Identifier","start":365,"end":377,"name":"readFunction"}},"right":{"type":"Identifier","start":380,"end":392,"name":"readFunction"}}},{"type":"IfStatement","start":402,"end":450,"test":{"type":"Identifier","start":406,"end":413,"name":"options"},"consequent":{"type":"ExpressionStatement","start":427,"end":450,"expression":{"type":"AssignmentExpression","start":427,"end":449,"operator":"=","left":{"type":"MemberExpression","start":427,"end":439,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":427,"end":431},"property":{"type":"Identifier","start":432,"end":439,"name":"options"}},"right":{"type":"Identifier","start":442,"end":449,"name":"options"}}},"alternate":null},{"type":"IfStatement","start":459,"end":534,"test":{"type":"Identifier","start":463,"end":479,"name":"controlCharacter"},"consequent":{"type":"ExpressionStatement","start":493,"end":534,"expression":{"type":"AssignmentExpression","start":493,"end":533,"operator":"=","left":{"type":"MemberExpression","start":493,"end":514,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":493,"end":497},"property":{"type":"Identifier","start":498,"end":514,"name":"controlCharacter"}},"right":{"type":"Identifier","start":517,"end":533,"name":"controlCharacter"}}},"alternate":null}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":545,"end":612,"static":false,"computed":false,"key":{"type":"Identifier","start":551,"end":559,"name":"sendData"},"value":{"type":"FunctionExpression","start":559,"end":612,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":560,"end":564,"name":"data"}],"body":{"type":"BlockStatement","start":566,"end":612,"body":[{"type":"ExpressionStatement","start":576,"end":606,"expression":{"type":"AwaitExpression","start":576,"end":605,"argument":{"type":"CallExpression","start":582,"end":605,"optional":false,"callee":{"type":"MemberExpression","start":582,"end":599,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":582,"end":593,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":582,"end":586},"property":{"type":"Identifier","start":587,"end":593,"name":"writer"}},"property":{"type":"Identifier","start":594,"end":599,"name":"write"}},"arguments":[{"type":"Identifier","start":600,"end":604,"name":"data"}]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":617,"end":1418,"static":false,"computed":false,"key":{"type":"Identifier","start":623,"end":631,"name":"readLoop"},"value":{"type":"FunctionExpression","start":631,"end":1418,"async":true,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":634,"end":1418,"body":[{"type":"WhileStatement","start":644,"end":1412,"test":{"type":"LogicalExpression","start":651,"end":689,"operator":"&&","left":{"type":"MemberExpression","start":651,"end":669,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":651,"end":660,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":651,"end":655},"property":{"type":"Identifier","start":656,"end":660,"name":"port"}},"property":{"type":"Identifier","start":661,"end":669,"name":"readable"}},"right":{"type":"MemberExpression","start":673,"end":689,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":673,"end":677},"property":{"type":"Identifier","start":678,"end":689,"name":"keepReading"}}},"body":{"type":"BlockStatement","start":691,"end":1412,"body":[{"type":"ExpressionStatement","start":705,"end":750,"expression":{"type":"AssignmentExpression","start":705,"end":749,"operator":"=","left":{"type":"MemberExpression","start":705,"end":716,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":705,"end":709},"property":{"type":"Identifier","start":710,"end":716,"name":"reader"}},"right":{"type":"CallExpression","start":719,"end":749,"optional":false,"callee":{"type":"MemberExpression","start":719,"end":747,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":719,"end":737,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":719,"end":728,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":719,"end":723},"property":{"type":"Identifier","start":724,"end":728,"name":"port"}},"property":{"type":"Identifier","start":729,"end":737,"name":"readable"}},"property":{"type":"Identifier","start":738,"end":747,"name":"getReader"}},"arguments":[]}}},{"type":"TryStatement","start":763,"end":1402,"block":{"type":"BlockStatement","start":767,"end":1211,"body":[{"type":"WhileStatement","start":785,"end":1197,"test":{"type":"Literal","start":792,"end":796,"value":true,"raw":"true"},"body":{"type":"BlockStatement","start":798,"end":1197,"body":[{"type":"VariableDeclaration","start":820,"end":869,"kind":"const","declarations":[{"type":"VariableDeclarator","start":826,"end":868,"id":{"type":"ObjectPattern","start":826,"end":841,"properties":[{"type":"Property","start":828,"end":833,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":828,"end":833,"name":"value"},"value":{"type":"Identifier","start":828,"end":833,"name":"value"},"kind":"init"},{"type":"Property","start":835,"end":839,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":835,"end":839,"name":"done"},"value":{"type":"Identifier","start":835,"end":839,"name":"done"},"kind":"init"}]},"init":{"type":"AwaitExpression","start":844,"end":868,"argument":{"type":"CallExpression","start":850,"end":868,"optional":false,"callee":{"type":"MemberExpression","start":850,"end":866,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":850,"end":861,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":850,"end":854},"property":{"type":"Identifier","start":855,"end":861,"name":"reader"}},"property":{"type":"Identifier","start":862,"end":866,"name":"read"}},"arguments":[]}}}]},{"type":"IfStatement","start":890,"end":1074,"test":{"type":"Identifier","start":894,"end":898,"name":"done"},"consequent":{"type":"BlockStatement","start":900,"end":1074,"body":[{"type":"ExpressionStatement","start":995,"end":1021,"expression":{"type":"CallExpression","start":995,"end":1020,"optional":false,"callee":{"type":"MemberExpression","start":995,"end":1018,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":995,"end":1006,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":995,"end":999},"property":{"type":"Identifier","start":1000,"end":1006,"name":"reader"}},"property":{"type":"Identifier","start":1007,"end":1018,"name":"releaseLock"}},"arguments":[]}},{"type":"BreakStatement","start":1046,"end":1052,"label":null}]},"alternate":null},{"type":"IfStatement","start":1095,"end":1179,"test":{"type":"Identifier","start":1099,"end":1104,"name":"value"},"consequent":{"type":"BlockStatement","start":1106,"end":1179,"body":[{"type":"ExpressionStatement","start":1132,"end":1157,"expression":{"type":"CallExpression","start":1132,"end":1156,"optional":false,"callee":{"type":"MemberExpression","start":1132,"end":1149,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1132,"end":1136},"property":{"type":"Identifier","start":1137,"end":1149,"name":"readFunction"}},"arguments":[{"type":"Identifier","start":1150,"end":1155,"name":"value"}]}}]},"alternate":null}]}}]},"handler":{"type":"CatchClause","start":1224,"end":1402,"param":{"type":"Identifier","start":1231,"end":1236,"name":"error"},"body":{"type":"BlockStatement","start":1238,"end":1402,"body":[{"type":"ExpressionStatement","start":1310,"end":1388,"expression":{"type":"CallExpression","start":1310,"end":1387,"optional":false,"callee":{"type":"MemberExpression","start":1310,"end":1323,"computed":false,"optional":false,"object":{"type":"Identifier","start":1310,"end":1317,"name":"console"},"property":{"type":"Identifier","start":1318,"end":1323,"name":"error"}},"arguments":[{"type":"Literal","start":1324,"end":1386,"value":"Read Loop error. Have the serial device been disconnected ? ","raw":"\"Read Loop error. Have the serial device been disconnected ? \""}]}}]}},"finalizer":null}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1423,"end":1701,"static":false,"computed":false,"key":{"type":"Identifier","start":1429,"end":1434,"name":"close"},"value":{"type":"FunctionExpression","start":1434,"end":1701,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":1435,"end":1443,"name":"callback"}],"body":{"type":"BlockStatement","start":1445,"end":1701,"body":[{"type":"ExpressionStatement","start":1455,"end":1480,"expression":{"type":"AssignmentExpression","start":1455,"end":1479,"operator":"=","left":{"type":"MemberExpression","start":1455,"end":1471,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1455,"end":1459},"property":{"type":"Identifier","start":1460,"end":1471,"name":"keepReading"}},"right":{"type":"Literal","start":1474,"end":1479,"value":false,"raw":"false"}}},{"type":"ExpressionStatement","start":1489,"end":1510,"expression":{"type":"CallExpression","start":1489,"end":1509,"optional":false,"callee":{"type":"MemberExpression","start":1489,"end":1507,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1489,"end":1500,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1489,"end":1493},"property":{"type":"Identifier","start":1494,"end":1500,"name":"reader"}},"property":{"type":"Identifier","start":1501,"end":1507,"name":"cancel"}},"arguments":[]}},{"type":"ExpressionStatement","start":1519,"end":1568,"expression":{"type":"AwaitExpression","start":1519,"end":1567,"argument":{"type":"CallExpression","start":1525,"end":1567,"optional":false,"callee":{"type":"MemberExpression","start":1525,"end":1556,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1525,"end":1550,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1525,"end":1529},"property":{"type":"Identifier","start":1530,"end":1550,"name":"readableStreamClosed"}},"property":{"type":"Identifier","start":1551,"end":1556,"name":"catch"}},"arguments":[{"type":"ArrowFunctionExpression","start":1557,"end":1566,"async":false,"expression":false,"generator":false,"params":[],"body":{"type":"BlockStatement","start":1563,"end":1566,"body":[]},"id":null}]}}},{"type":"ExpressionStatement","start":1577,"end":1597,"expression":{"type":"CallExpression","start":1577,"end":1596,"optional":false,"callee":{"type":"MemberExpression","start":1577,"end":1594,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1577,"end":1588,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1577,"end":1581},"property":{"type":"Identifier","start":1582,"end":1588,"name":"writer"}},"property":{"type":"Identifier","start":1589,"end":1594,"name":"close"}},"arguments":[]}},{"type":"ExpressionStatement","start":1606,"end":1638,"expression":{"type":"AwaitExpression","start":1606,"end":1637,"argument":{"type":"MemberExpression","start":1612,"end":1637,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1612,"end":1616},"property":{"type":"Identifier","start":1617,"end":1637,"name":"writableStreamClosed"}}}},{"type":"ExpressionStatement","start":1647,"end":1671,"expression":{"type":"AwaitExpression","start":1647,"end":1670,"argument":{"type":"CallExpression","start":1653,"end":1670,"optional":false,"callee":{"type":"MemberExpression","start":1653,"end":1668,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1653,"end":1662,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1653,"end":1657},"property":{"type":"Identifier","start":1658,"end":1662,"name":"port"}},"property":{"type":"Identifier","start":1663,"end":1668,"name":"close"}},"arguments":[]}}},{"type":"ExpressionStatement","start":1680,"end":1695,"expression":{"type":"CallExpression","start":1680,"end":1694,"optional":false,"callee":{"type":"Identifier","start":1680,"end":1688,"name":"callback"},"arguments":[{"type":"Literal","start":1689,"end":1693,"raw":"null","value":null}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1706,"end":2777,"static":false,"computed":false,"key":{"type":"Identifier","start":1712,"end":1719,"name":"connect"},"value":{"type":"FunctionExpression","start":1719,"end":2777,"async":true,"generator":false,"id":null,"params":[{"type":"Identifier","start":1720,"end":1728,"name":"callback"}],"body":{"type":"BlockStatement","start":1730,"end":2777,"body":[{"type":"ExpressionStatement","start":1740,"end":1764,"expression":{"type":"AssignmentExpression","start":1740,"end":1763,"operator":"=","left":{"type":"MemberExpression","start":1740,"end":1756,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1740,"end":1744},"property":{"type":"Identifier","start":1745,"end":1756,"name":"keepReading"}},"right":{"type":"Literal","start":1759,"end":1763,"value":true,"raw":"true"}}},{"type":"IfStatement","start":1773,"end":2771,"test":{"type":"BinaryExpression","start":1777,"end":1798,"operator":"in","left":{"type":"Literal","start":1777,"end":1785,"value":"serial","raw":"\"serial\""},"right":{"type":"Identifier","start":1789,"end":1798,"name":"navigator"}},"consequent":{"type":"BlockStatement","start":1800,"end":2667,"body":[{"type":"VariableDeclaration","start":1877,"end":1897,"kind":"let","declarations":[{"type":"VariableDeclarator","start":1881,"end":1896,"id":{"type":"Identifier","start":1881,"end":1884,"name":"nav"},"init":{"type":"Identifier","start":1887,"end":1896,"name":"navigator"}}]},{"type":"VariableDeclaration","start":1910,"end":1952,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1916,"end":1951,"id":{"type":"Identifier","start":1916,"end":1921,"name":"ports"},"init":{"type":"AwaitExpression","start":1924,"end":1951,"argument":{"type":"CallExpression","start":1930,"end":1951,"optional":false,"callee":{"type":"MemberExpression","start":1930,"end":1949,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1930,"end":1940,"computed":false,"optional":false,"object":{"type":"Identifier","start":1930,"end":1933,"name":"nav"},"property":{"type":"Identifier","start":1934,"end":1940,"name":"serial"}},"property":{"type":"Identifier","start":1941,"end":1949,"name":"getPorts"}},"arguments":[]}}}]},{"type":"TryStatement","start":1965,"end":2176,"block":{"type":"BlockStatement","start":1969,"end":2044,"body":[{"type":"ExpressionStatement","start":1987,"end":2030,"expression":{"type":"AssignmentExpression","start":1987,"end":2029,"operator":"=","left":{"type":"MemberExpression","start":1987,"end":1996,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1987,"end":1991},"property":{"type":"Identifier","start":1992,"end":1996,"name":"port"}},"right":{"type":"AwaitExpression","start":1999,"end":2029,"argument":{"type":"CallExpression","start":2005,"end":2029,"optional":false,"callee":{"type":"MemberExpression","start":2005,"end":2027,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2005,"end":2015,"computed":false,"optional":false,"object":{"type":"Identifier","start":2005,"end":2008,"name":"nav"},"property":{"type":"Identifier","start":2009,"end":2015,"name":"serial"}},"property":{"type":"Identifier","start":2016,"end":2027,"name":"requestPort"}},"arguments":[]}}}}]},"handler":{"type":"CatchClause","start":2057,"end":2176,"param":{"type":"Identifier","start":2064,"end":2069,"name":"error"},"body":{"type":"BlockStatement","start":2071,"end":2176,"body":[{"type":"ExpressionStatement","start":2089,"end":2138,"expression":{"type":"CallExpression","start":2089,"end":2137,"optional":false,"callee":{"type":"MemberExpression","start":2089,"end":2102,"computed":false,"optional":false,"object":{"type":"Identifier","start":2089,"end":2096,"name":"console"},"property":{"type":"Identifier","start":2097,"end":2102,"name":"error"}},"arguments":[{"type":"BinaryExpression","start":2103,"end":2136,"operator":"+","left":{"type":"Literal","start":2103,"end":2128,"value":"Requesting port error: ","raw":"\"Requesting port error: \""},"right":{"type":"Identifier","start":2131,"end":2136,"name":"error"}}]}},{"type":"ReturnStatement","start":2155,"end":2162,"argument":null}]}},"finalizer":null},{"type":"TryStatement","start":2189,"end":2389,"block":{"type":"BlockStatement","start":2193,"end":2260,"body":[{"type":"ExpressionStatement","start":2211,"end":2246,"expression":{"type":"AwaitExpression","start":2211,"end":2245,"argument":{"type":"CallExpression","start":2217,"end":2245,"optional":false,"callee":{"type":"MemberExpression","start":2217,"end":2231,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2217,"end":2226,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2217,"end":2221},"property":{"type":"Identifier","start":2222,"end":2226,"name":"port"}},"property":{"type":"Identifier","start":2227,"end":2231,"name":"open"}},"arguments":[{"type":"MemberExpression","start":2232,"end":2244,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2232,"end":2236},"property":{"type":"Identifier","start":2237,"end":2244,"name":"options"}}]}}}]},"handler":{"type":"CatchClause","start":2273,"end":2389,"param":{"type":"Identifier","start":2280,"end":2285,"name":"error"},"body":{"type":"BlockStatement","start":2287,"end":2389,"body":[{"type":"ExpressionStatement","start":2305,"end":2351,"expression":{"type":"CallExpression","start":2305,"end":2350,"optional":false,"callee":{"type":"MemberExpression","start":2305,"end":2318,"computed":false,"optional":false,"object":{"type":"Identifier","start":2305,"end":2312,"name":"console"},"property":{"type":"Identifier","start":2313,"end":2318,"name":"error"}},"arguments":[{"type":"BinaryExpression","start":2319,"end":2349,"operator":"+","left":{"type":"Literal","start":2319,"end":2341,"value":"Opening port error: ","raw":"\"Opening port error: \""},"right":{"type":"Identifier","start":2344,"end":2349,"name":"error"}}]}},{"type":"ReturnStatement","start":2368,"end":2375,"argument":null}]}},"finalizer":null},{"type":"VariableDeclaration","start":2402,"end":2446,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2408,"end":2445,"id":{"type":"Identifier","start":2408,"end":2419,"name":"textEncoder"},"init":{"type":"NewExpression","start":2422,"end":2445,"callee":{"type":"Identifier","start":2426,"end":2443,"name":"TextEncoderStream"},"arguments":[]}}]},{"type":"ExpressionStatement","start":2459,"end":2535,"expression":{"type":"AssignmentExpression","start":2459,"end":2534,"operator":"=","left":{"type":"MemberExpression","start":2459,"end":2484,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2459,"end":2463},"property":{"type":"Identifier","start":2464,"end":2484,"name":"writableStreamClosed"}},"right":{"type":"CallExpression","start":2487,"end":2534,"optional":false,"callee":{"type":"MemberExpression","start":2487,"end":2514,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2487,"end":2507,"computed":false,"optional":false,"object":{"type":"Identifier","start":2487,"end":2498,"name":"textEncoder"},"property":{"type":"Identifier","start":2499,"end":2507,"name":"readable"}},"property":{"type":"Identifier","start":2508,"end":2514,"name":"pipeTo"}},"arguments":[{"type":"MemberExpression","start":2515,"end":2533,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2515,"end":2524,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2515,"end":2519},"property":{"type":"Identifier","start":2520,"end":2524,"name":"port"}},"property":{"type":"Identifier","start":2525,"end":2533,"name":"writable"}}]}}},{"type":"ExpressionStatement","start":2548,"end":2595,"expression":{"type":"AssignmentExpression","start":2548,"end":2594,"operator":"=","left":{"type":"MemberExpression","start":2548,"end":2559,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2548,"end":2552},"property":{"type":"Identifier","start":2553,"end":2559,"name":"writer"}},"right":{"type":"CallExpression","start":2562,"end":2594,"optional":false,"callee":{"type":"MemberExpression","start":2562,"end":2592,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2562,"end":2582,"computed":false,"optional":false,"object":{"type":"Identifier","start":2562,"end":2573,"name":"textEncoder"},"property":{"type":"Identifier","start":2574,"end":2582,"name":"writable"}},"property":{"type":"Identifier","start":2583,"end":2592,"name":"getWriter"}},"arguments":[]}}},{"type":"ExpressionStatement","start":2608,"end":2624,"expression":{"type":"CallExpression","start":2608,"end":2623,"optional":false,"callee":{"type":"MemberExpression","start":2608,"end":2621,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2608,"end":2612},"property":{"type":"Identifier","start":2613,"end":2621,"name":"readLoop"}},"arguments":[]}},{"type":"ExpressionStatement","start":2637,"end":2657,"expression":{"type":"CallExpression","start":2637,"end":2656,"optional":false,"callee":{"type":"Identifier","start":2637,"end":2645,"name":"callback"},"arguments":[{"type":"MemberExpression","start":2646,"end":2655,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2646,"end":2650},"property":{"type":"Identifier","start":2651,"end":2655,"name":"port"}}]}}]},"alternate":{"type":"BlockStatement","start":2681,"end":2771,"body":[{"type":"ExpressionStatement","start":2695,"end":2761,"expression":{"type":"CallExpression","start":2695,"end":2760,"optional":false,"callee":{"type":"MemberExpression","start":2695,"end":2708,"computed":false,"optional":false,"object":{"type":"Identifier","start":2695,"end":2702,"name":"console"},"property":{"type":"Identifier","start":2703,"end":2708,"name":"error"}},"arguments":[{"type":"Literal","start":2709,"end":2759,"value":"This browser does NOT support the Web Serial API","raw":"\"This browser does NOT support the Web Serial API\""}]}}]}}]},"expression":false},"kind":"method"}]}}},{"type":"ClassDeclaration","start":2780,"end":3285,"id":{"type":"Identifier","start":2786,"end":2806,"name":"LineBreakTransformer"},"superClass":null,"body":{"type":"ClassBody","start":2807,"end":3285,"body":[{"type":"PropertyDefinition","start":2813,"end":2828,"static":false,"computed":false,"key":{"type":"Identifier","start":2813,"end":2822,"name":"container"},"value":{"type":"Literal","start":2825,"end":2827,"value":"","raw":"\"\""}},{"type":"PropertyDefinition","start":2833,"end":2850,"static":false,"computed":false,"key":{"type":"Identifier","start":2833,"end":2849,"name":"controlCharacter"},"value":null},{"type":"MethodDefinition","start":2855,"end":2971,"static":false,"computed":false,"key":{"type":"Identifier","start":2855,"end":2866,"name":"constructor"},"value":{"type":"FunctionExpression","start":2866,"end":2971,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2867,"end":2883,"name":"controlCharacter"}],"body":{"type":"BlockStatement","start":2885,"end":2971,"body":[{"type":"ExpressionStatement","start":2895,"end":2915,"expression":{"type":"AssignmentExpression","start":2895,"end":2914,"operator":"=","left":{"type":"MemberExpression","start":2895,"end":2909,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2895,"end":2899},"property":{"type":"Identifier","start":2900,"end":2909,"name":"container"}},"right":{"type":"Literal","start":2912,"end":2914,"value":"","raw":"''"}}},{"type":"ExpressionStatement","start":2924,"end":2965,"expression":{"type":"AssignmentExpression","start":2924,"end":2964,"operator":"=","left":{"type":"MemberExpression","start":2924,"end":2945,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2924,"end":2928},"property":{"type":"Identifier","start":2929,"end":2945,"name":"controlCharacter"}},"right":{"type":"Identifier","start":2948,"end":2964,"name":"controlCharacter"}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":2976,"end":3209,"static":false,"computed":false,"key":{"type":"Identifier","start":2976,"end":2985,"name":"transform"},"value":{"type":"FunctionExpression","start":2985,"end":3209,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2986,"end":2991,"name":"chunk"},{"type":"Identifier","start":2993,"end":3003,"name":"controller"}],"body":{"type":"BlockStatement","start":3005,"end":3209,"body":[{"type":"ExpressionStatement","start":3015,"end":3039,"expression":{"type":"AssignmentExpression","start":3015,"end":3038,"operator":"+=","left":{"type":"MemberExpression","start":3015,"end":3029,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3015,"end":3019},"property":{"type":"Identifier","start":3020,"end":3029,"name":"container"}},"right":{"type":"Identifier","start":3033,"end":3038,"name":"chunk"}}},{"type":"VariableDeclaration","start":3048,"end":3106,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3054,"end":3105,"id":{"type":"Identifier","start":3054,"end":3059,"name":"lines"},"init":{"type":"CallExpression","start":3062,"end":3105,"optional":false,"callee":{"type":"MemberExpression","start":3062,"end":3082,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3062,"end":3076,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3062,"end":3066},"property":{"type":"Identifier","start":3067,"end":3076,"name":"container"}},"property":{"type":"Identifier","start":3077,"end":3082,"name":"split"}},"arguments":[{"type":"MemberExpression","start":3083,"end":3104,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3083,"end":3087},"property":{"type":"Identifier","start":3088,"end":3104,"name":"controlCharacter"}}]}}]},{"type":"ExpressionStatement","start":3115,"end":3144,"expression":{"type":"AssignmentExpression","start":3115,"end":3143,"operator":"=","left":{"type":"MemberExpression","start":3115,"end":3129,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3115,"end":3119},"property":{"type":"Identifier","start":3120,"end":3129,"name":"container"}},"right":{"type":"CallExpression","start":3132,"end":3143,"optional":false,"callee":{"type":"MemberExpression","start":3132,"end":3141,"computed":false,"optional":false,"object":{"type":"Identifier","start":3132,"end":3137,"name":"lines"},"property":{"type":"Identifier","start":3138,"end":3141,"name":"pop"}},"arguments":[]}}},{"type":"ExpressionStatement","start":3153,"end":3203,"expression":{"type":"CallExpression","start":3153,"end":3202,"optional":false,"callee":{"type":"MemberExpression","start":3153,"end":3166,"computed":false,"optional":false,"object":{"type":"Identifier","start":3153,"end":3158,"name":"lines"},"property":{"type":"Identifier","start":3159,"end":3166,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":3167,"end":3201,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":3168,"end":3172,"name":"line"}],"body":{"type":"CallExpression","start":3177,"end":3201,"optional":false,"callee":{"type":"MemberExpression","start":3177,"end":3195,"computed":false,"optional":false,"object":{"type":"Identifier","start":3177,"end":3187,"name":"controller"},"property":{"type":"Identifier","start":3188,"end":3195,"name":"enqueue"}},"arguments":[{"type":"Identifier","start":3196,"end":3200,"name":"line"}]},"id":null}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":3214,"end":3283,"static":false,"computed":false,"key":{"type":"Identifier","start":3214,"end":3219,"name":"flush"},"value":{"type":"FunctionExpression","start":3219,"end":3283,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":3220,"end":3230,"name":"controller"}],"body":{"type":"BlockStatement","start":3232,"end":3283,"body":[{"type":"ExpressionStatement","start":3242,"end":3277,"expression":{"type":"CallExpression","start":3242,"end":3276,"optional":false,"callee":{"type":"MemberExpression","start":3242,"end":3260,"computed":false,"optional":false,"object":{"type":"Identifier","start":3242,"end":3252,"name":"controller"},"property":{"type":"Identifier","start":3253,"end":3260,"name":"enqueue"}},"arguments":[{"type":"MemberExpression","start":3261,"end":3275,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3261,"end":3265},"property":{"type":"Identifier","start":3266,"end":3275,"name":"container"}}]}}]},"expression":false},"kind":"method"}]}}],"_rollupRemoved":[{"end":12244,"start":3286,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"export class NgxSerial {\n    port;\n    options = { baudRate: 9600, dataBits: 8, parity: 'none', bufferSize: 256, flowControl: 'none' }; //Default\n    writer;\n    readFunction;\n    controlCharacter = \"\\n\";\n    reader;\n    readableStreamClosed;\n    writableStreamClosed;\n    keepReading = true;\n    constructor(readFunction, options, controlCharacter) {\n        this.readFunction = readFunction;\n        if (options)\n            this.options = options;\n        if (controlCharacter)\n            this.controlCharacter = controlCharacter;\n    }\n    async sendData(data) {\n        await this.writer.write(data);\n    }\n    async readLoop() {\n        while (this.port.readable && this.keepReading) {\n            this.reader = this.port.readable.getReader();\n            try {\n                while (true) {\n                    const { value, done } = await this.reader.read();\n                    if (done) {\n                        // Allow the serial port to be closed later.\n                        this.reader.releaseLock();\n                        break;\n                    }\n                    if (value) {\n                        this.readFunction(value);\n                    }\n                }\n            }\n            catch (error) {\n                // TODO: Handle non-fatal read error.\n                console.error(\"Read Loop error. Have the serial device been disconnected ? \");\n            }\n        }\n    }\n    async close(callback) {\n        this.keepReading = false;\n        this.reader.cancel();\n        await this.readableStreamClosed.catch(() => { });\n        this.writer.close();\n        await this.writableStreamClosed;\n        await this.port.close();\n        callback(null);\n    }\n    async connect(callback) {\n        this.keepReading = true;\n        if (\"serial\" in navigator) {\n            // The Web Serial API is supported by the browser.\n            let nav = navigator;\n            const ports = await nav.serial.getPorts();\n            try {\n                this.port = await nav.serial.requestPort();\n            }\n            catch (error) {\n                console.error(\"Requesting port error: \" + error);\n                return;\n            }\n            try {\n                await this.port.open(this.options);\n            }\n            catch (error) {\n                console.error(\"Opening port error: \" + error);\n                return;\n            }\n            const textEncoder = new TextEncoderStream();\n            this.writableStreamClosed = textEncoder.readable.pipeTo(this.port.writable);\n            this.writer = textEncoder.writable.getWriter();\n            this.readLoop();\n            callback(this.port);\n        }\n        else {\n            console.error(\"This browser does NOT support the Web Serial API\");\n        }\n    }\n}\nclass LineBreakTransformer {\n    container = \"\";\n    controlCharacter;\n    constructor(controlCharacter) {\n        this.container = '';\n        this.controlCharacter = controlCharacter;\n    }\n    transform(chunk, controller) {\n        this.container += chunk;\n        const lines = this.container.split(this.controlCharacter);\n        this.container = lines.pop();\n        lines.forEach((line) => controller.enqueue(line));\n    }\n    flush(controller) {\n        controller.enqueue(this.container);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXNlcmlhbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1zZXJpYWwvc3JjL2xpYi9uZ3gtc2VyaWFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxTQUFTO0lBRVosSUFBSSxDQUFNO0lBQ1YsT0FBTyxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxTQUFTO0lBQzFHLE1BQU0sQ0FBTTtJQUNaLFlBQVksQ0FBVztJQUN2QixnQkFBZ0IsR0FBVyxJQUFJLENBQUM7SUFDaEMsTUFBTSxDQUFNO0lBQ1osb0JBQW9CLENBQU07SUFDMUIsb0JBQW9CLENBQU07SUFDMUIsV0FBVyxHQUFZLElBQUksQ0FBQztJQUVwQyxZQUFZLFlBQXNCLEVBQUUsT0FBYSxFQUFFLGdCQUFzQjtRQUN2RSxJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUNqQyxJQUFJLE9BQU87WUFDVCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN6QixJQUFJLGdCQUFnQjtZQUNsQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7SUFFN0MsQ0FBQztJQUNNLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBWTtRQUNoQyxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFTyxLQUFLLENBQUMsUUFBUTtRQUVwQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM5QyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lB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QVksZ0JBQXdCO1FBQ2xDLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQTtJQUMxQyxDQUFDO0lBRUQsU0FBUyxDQUFDLEtBQVUsRUFBRSxVQUFlO1FBQ25DLElBQUksQ0FBQyxTQUFTLElBQUksS0FBSyxDQUFDO1FBQ3hCLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQzdCLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFTLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQsS0FBSyxDQUFDLFVBQWU7UUFDbkIsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDckMsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTk9ORV9UWVBFIH0gZnJvbSBcIkBhbmd1bGFyL2NvbXBpbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTmd4U2VyaWFsIHtcclxuXHJcbiAgcHJpdmF0ZSBwb3J0OiBhbnk7XHJcbiAgcHJpdmF0ZSBvcHRpb25zID0geyBiYXVkUmF0ZTogOTYwMCwgZGF0YUJpdHM6IDgsIHBhcml0eTogJ25vbmUnLCBidWZmZXJTaXplOiAyNTYsIGZsb3dDb250cm9sOiAnbm9uZScgfTsgLy9EZWZhdWx0XHJcbiAgcHJpdmF0ZSB3cml0ZXI6IGFueTtcclxuICBwcml2YXRlIHJlYWRGdW5jdGlvbjogRnVuY3Rpb247XHJcbiAgcHJpdmF0ZSBjb250cm9sQ2hhcmFjdGVyOiBzdHJpbmcgPSBcIlxcblwiO1xyXG4gIHByaXZhdGUgcmVhZGVyOiBhbnk7XHJcbiAgcHJpdmF0ZSByZWFkYWJsZVN0cmVhbUNsb3NlZDogYW55O1xyXG4gIHByaXZhdGUgd3JpdGFibGVTdHJlYW1DbG9zZWQ6IGFueTtcclxuICBwcml2YXRlIGtlZXBSZWFkaW5nOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgY29uc3RydWN0b3IocmVhZEZ1bmN0aW9uOiBGdW5jdGlvbiwgb3B0aW9ucz86IGFueSwgY29udHJvbENoYXJhY3Rlcj86IGFueSkge1xyXG4gICAgdGhpcy5yZWFkRnVuY3Rpb24gPSByZWFkRnVuY3Rpb247XHJcbiAgICBpZiAob3B0aW9ucylcclxuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgIGlmIChjb250cm9sQ2hhcmFjdGVyKVxyXG4gICAgICB0aGlzLmNvbnRyb2xDaGFyYWN0ZXIgPSBjb250cm9sQ2hhcmFjdGVyO1xyXG5cclxuICB9XHJcbiAgcHVibGljIGFzeW5jIHNlbmREYXRhKGRhdGE6IHN0cmluZykge1xyXG4gICAgYXdhaXQgdGhpcy53cml0ZXIud3JpdGUoZGF0YSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHJlYWRMb29wKCkge1xyXG5cclxuICAgIHdoaWxlICh0aGlzLnBvcnQucmVhZGFibGUgJiYgdGhpcy5rZWVwUmVhZGluZykge1xyXG4gICAgICB0aGlzLnJlYWRlciA9IHRoaXMucG9ydC5yZWFkYWJsZS5nZXRSZWFkZXIoKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgdGhpcy5yZWFkZXIucmVhZCgpO1xyXG4gICAgICAgICAgaWYgKGRvbmUpIHtcclxuICAgICAgICAgICAgLy8gQWxsb3cgdGhlIHNlcmlhbCBwb3J0IHRvIGJlIGNsb3NlZCBsYXRlci5cclxuICAgICAgICAgICAgdGhpcy5yZWFkZXIucmVsZWFzZUxvY2soKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWFkRnVuY3Rpb24odmFsdWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBUT0RPOiBIYW5kbGUgbm9uLWZhdGFsIHJlYWQgZXJyb3IuXHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlJlYWQgTG9vcCBlcnJvci4gSGF2ZSB0aGUgc2VyaWFsIGRldmljZSBiZWVuIGRpc2Nvbm5lY3RlZCA/IFwiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgYXN5bmMgY2xvc2UoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLmtlZXBSZWFkaW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLnJlYWRlci5jYW5jZWwoKTtcclxuICAgIGF3YWl0IHRoaXMucmVhZGFibGVTdHJlYW1DbG9zZWQuY2F0Y2goKCkgPT4geyB9KTtcclxuICAgIHRoaXMud3JpdGVyLmNsb3NlKCk7XHJcbiAgICBhd2FpdCB0aGlzLndyaXRhYmxlU3RyZWFtQ2xvc2VkO1xyXG4gICAgYXdhaXQgdGhpcy5wb3J0LmNsb3NlKCk7XHJcbiAgICBjYWxsYmFjayhudWxsKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBjb25uZWN0KGNhbGxiYWNrOiBGdW5jdGlvbikge1xyXG4gICAgdGhpcy5rZWVwUmVhZGluZyA9IHRydWU7XHJcbiAgICBpZiAoXCJzZXJpYWxcIiBpbiBuYXZpZ2F0b3IpIHtcclxuICAgICAgLy8gVGhlIFdlYiBTZXJpYWwgQVBJIGlzIHN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci5cclxuICAgICAgbGV0IG5hdjogYW55ID0gbmF2aWdhdG9yO1xyXG4gICAgICBjb25zdCBwb3J0cyA9IGF3YWl0IG5hdi5zZXJpYWwuZ2V0UG9ydHMoKTtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGhpcy5wb3J0ID0gYXdhaXQgbmF2LnNlcmlhbC5yZXF1ZXN0UG9ydCgpO1xyXG5cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVxdWVzdGluZyBwb3J0IGVycm9yOiBcIiArIGVycm9yKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wb3J0Lm9wZW4odGhpcy5vcHRpb25zKTtcclxuXHJcblxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJPcGVuaW5nIHBvcnQgZXJyb3I6IFwiICsgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdGV4dEVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXJTdHJlYW0oKTtcclxuICAgICAgdGhpcy53cml0YWJsZVN0cmVhbUNsb3NlZCA9IHRleHRFbmNvZGVyLnJlYWRhYmxlLnBpcGVUbyh0aGlzLnBvcnQud3JpdGFibGUpO1xyXG4gICAgICB0aGlzLndyaXRlciA9IHRleHRFbmNvZGVyLndyaXRhYmxlLmdldFdyaXRlcigpO1xyXG5cclxuICAgICAgdGhpcy5yZWFkTG9vcCgpO1xyXG5cclxuICAgICAgY2FsbGJhY2sodGhpcy5wb3J0KTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGRvZXMgTk9UIHN1cHBvcnQgdGhlIFdlYiBTZXJpYWwgQVBJXCIpO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIExpbmVCcmVha1RyYW5zZm9ybWVyIHtcclxuICBjb250YWluZXI6IGFueSA9IFwiXCI7XHJcbiAgcHJpdmF0ZSBjb250cm9sQ2hhcmFjdGVyOiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xDaGFyYWN0ZXI6IHN0cmluZykge1xyXG4gICAgdGhpcy5jb250YWluZXIgPSAnJztcclxuICAgIHRoaXMuY29udHJvbENoYXJhY3RlciA9IGNvbnRyb2xDaGFyYWN0ZXJcclxuICB9XHJcblxyXG4gIHRyYW5zZm9ybShjaHVuazogYW55LCBjb250cm9sbGVyOiBhbnkpIHtcclxuICAgIHRoaXMuY29udGFpbmVyICs9IGNodW5rO1xyXG4gICAgY29uc3QgbGluZXMgPSB0aGlzLmNvbnRhaW5lci5zcGxpdCh0aGlzLmNvbnRyb2xDaGFyYWN0ZXIpO1xyXG4gICAgdGhpcy5jb250YWluZXIgPSBsaW5lcy5wb3AoKTtcclxuICAgIGxpbmVzLmZvckVhY2goKGxpbmU6IGFueSkgPT4gY29udHJvbGxlci5lbnF1ZXVlKGxpbmUpKTtcclxuICB9XHJcblxyXG4gIGZsdXNoKGNvbnRyb2xsZXI6IGFueSkge1xyXG4gICAgY29udHJvbGxlci5lbnF1ZXVlKHRoaXMuY29udGFpbmVyKTtcclxuICB9XHJcbn0iXX0=","customTransformCache":false,"dependencies":[],"id":"C:\\repos\\ngx-serial\\dist\\ngx-serial\\esm2022\\lib\\ngx-serial.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export class NgxSerial {\n    port;\n    options = { baudRate: 9600, dataBits: 8, parity: 'none', bufferSize: 256, flowControl: 'none' }; //Default\n    writer;\n    readFunction;\n    controlCharacter = \"\\n\";\n    reader;\n    readableStreamClosed;\n    writableStreamClosed;\n    keepReading = true;\n    constructor(readFunction, options, controlCharacter) {\n        this.readFunction = readFunction;\n        if (options)\n            this.options = options;\n        if (controlCharacter)\n            this.controlCharacter = controlCharacter;\n    }\n    async sendData(data) {\n        await this.writer.write(data);\n    }\n    async readLoop() {\n        while (this.port.readable && this.keepReading) {\n            this.reader = this.port.readable.getReader();\n            try {\n                while (true) {\n                    const { value, done } = await this.reader.read();\n                    if (done) {\n                        // Allow the serial port to be closed later.\n                        this.reader.releaseLock();\n                        break;\n                    }\n                    if (value) {\n                        this.readFunction(value);\n                    }\n                }\n            }\n            catch (error) {\n                // TODO: Handle non-fatal read error.\n                console.error(\"Read Loop error. Have the serial device been disconnected ? \");\n            }\n        }\n    }\n    async close(callback) {\n        this.keepReading = false;\n        this.reader.cancel();\n        await this.readableStreamClosed.catch(() => { });\n        this.writer.close();\n        await this.writableStreamClosed;\n        await this.port.close();\n        callback(null);\n    }\n    async connect(callback) {\n        this.keepReading = true;\n        if (\"serial\" in navigator) {\n            // The Web Serial API is supported by the browser.\n            let nav = navigator;\n            const ports = await nav.serial.getPorts();\n            try {\n                this.port = await nav.serial.requestPort();\n            }\n            catch (error) {\n                console.error(\"Requesting port error: \" + error);\n                return;\n            }\n            try {\n                await this.port.open(this.options);\n            }\n            catch (error) {\n                console.error(\"Opening port error: \" + error);\n                return;\n            }\n            const textEncoder = new TextEncoderStream();\n            this.writableStreamClosed = textEncoder.readable.pipeTo(this.port.writable);\n            this.writer = textEncoder.writable.getWriter();\n            this.readLoop();\n            callback(this.port);\n        }\n        else {\n            console.error(\"This browser does NOT support the Web Serial API\");\n        }\n    }\n}\nclass LineBreakTransformer {\n    container = \"\";\n    controlCharacter;\n    constructor(controlCharacter) {\n        this.container = '';\n        this.controlCharacter = controlCharacter;\n    }\n    transform(chunk, controller) {\n        this.container += chunk;\n        const lines = this.container.split(this.controlCharacter);\n        this.container = lines.pop();\n        lines.forEach((line) => controller.enqueue(line));\n    }\n    flush(controller) {\n        controller.enqueue(this.container);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXNlcmlhbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1zZXJpYWwvc3JjL2xpYi9uZ3gtc2VyaWFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTyxTQUFTO0lBRVosSUFBSSxDQUFNO0lBQ1YsT0FBTyxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxTQUFTO0lBQzFHLE1BQU0sQ0FBTTtJQUNaLFlBQVksQ0FBVztJQUN2QixnQkFBZ0IsR0FBVyxJQUFJLENBQUM7SUFDaEMsTUFBTSxDQUFNO0lBQ1osb0JBQW9CLENBQU07SUFDMUIsb0JBQW9CLENBQU07SUFDMUIsV0FBVyxHQUFZLElBQUksQ0FBQztJQUVwQyxZQUFZLFlBQXNCLEVBQUUsT0FBYSxFQUFFLGdCQUFzQjtRQUN2RSxJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztRQUNqQyxJQUFJLE9BQU87WUFDVCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN6QixJQUFJLGdCQUFnQjtZQUNsQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7SUFFN0MsQ0FBQztJQUNNLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBWTtRQUNoQyxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFTyxLQUFLLENBQUMsUUFBUTtRQUVwQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM5QyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lB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QVksZ0JBQXdCO1FBQ2xDLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQTtJQUMxQyxDQUFDO0lBRUQsU0FBUyxDQUFDLEtBQVUsRUFBRSxVQUFlO1FBQ25DLElBQUksQ0FBQyxTQUFTLElBQUksS0FBSyxDQUFDO1FBQ3hCLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQzdCLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFTLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQsS0FBSyxDQUFDLFVBQWU7UUFDbkIsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDckMsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTk9ORV9UWVBFIH0gZnJvbSBcIkBhbmd1bGFyL2NvbXBpbGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTmd4U2VyaWFsIHtcclxuXHJcbiAgcHJpdmF0ZSBwb3J0OiBhbnk7XHJcbiAgcHJpdmF0ZSBvcHRpb25zID0geyBiYXVkUmF0ZTogOTYwMCwgZGF0YUJpdHM6IDgsIHBhcml0eTogJ25vbmUnLCBidWZmZXJTaXplOiAyNTYsIGZsb3dDb250cm9sOiAnbm9uZScgfTsgLy9EZWZhdWx0XHJcbiAgcHJpdmF0ZSB3cml0ZXI6IGFueTtcclxuICBwcml2YXRlIHJlYWRGdW5jdGlvbjogRnVuY3Rpb247XHJcbiAgcHJpdmF0ZSBjb250cm9sQ2hhcmFjdGVyOiBzdHJpbmcgPSBcIlxcblwiO1xyXG4gIHByaXZhdGUgcmVhZGVyOiBhbnk7XHJcbiAgcHJpdmF0ZSByZWFkYWJsZVN0cmVhbUNsb3NlZDogYW55O1xyXG4gIHByaXZhdGUgd3JpdGFibGVTdHJlYW1DbG9zZWQ6IGFueTtcclxuICBwcml2YXRlIGtlZXBSZWFkaW5nOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgY29uc3RydWN0b3IocmVhZEZ1bmN0aW9uOiBGdW5jdGlvbiwgb3B0aW9ucz86IGFueSwgY29udHJvbENoYXJhY3Rlcj86IGFueSkge1xyXG4gICAgdGhpcy5yZWFkRnVuY3Rpb24gPSByZWFkRnVuY3Rpb247XHJcbiAgICBpZiAob3B0aW9ucylcclxuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgIGlmIChjb250cm9sQ2hhcmFjdGVyKVxyXG4gICAgICB0aGlzLmNvbnRyb2xDaGFyYWN0ZXIgPSBjb250cm9sQ2hhcmFjdGVyO1xyXG5cclxuICB9XHJcbiAgcHVibGljIGFzeW5jIHNlbmREYXRhKGRhdGE6IHN0cmluZykge1xyXG4gICAgYXdhaXQgdGhpcy53cml0ZXIud3JpdGUoZGF0YSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHJlYWRMb29wKCkge1xyXG5cclxuICAgIHdoaWxlICh0aGlzLnBvcnQucmVhZGFibGUgJiYgdGhpcy5rZWVwUmVhZGluZykge1xyXG4gICAgICB0aGlzLnJlYWRlciA9IHRoaXMucG9ydC5yZWFkYWJsZS5nZXRSZWFkZXIoKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgdGhpcy5yZWFkZXIucmVhZCgpO1xyXG4gICAgICAgICAgaWYgKGRvbmUpIHtcclxuICAgICAgICAgICAgLy8gQWxsb3cgdGhlIHNlcmlhbCBwb3J0IHRvIGJlIGNsb3NlZCBsYXRlci5cclxuICAgICAgICAgICAgdGhpcy5yZWFkZXIucmVsZWFzZUxvY2soKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWFkRnVuY3Rpb24odmFsdWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBUT0RPOiBIYW5kbGUgbm9uLWZhdGFsIHJlYWQgZXJyb3IuXHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlJlYWQgTG9vcCBlcnJvci4gSGF2ZSB0aGUgc2VyaWFsIGRldmljZSBiZWVuIGRpc2Nvbm5lY3RlZCA/IFwiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgYXN5bmMgY2xvc2UoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XHJcbiAgICB0aGlzLmtlZXBSZWFkaW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLnJlYWRlci5jYW5jZWwoKTtcclxuICAgIGF3YWl0IHRoaXMucmVhZGFibGVTdHJlYW1DbG9zZWQuY2F0Y2goKCkgPT4geyB9KTtcclxuICAgIHRoaXMud3JpdGVyLmNsb3NlKCk7XHJcbiAgICBhd2FpdCB0aGlzLndyaXRhYmxlU3RyZWFtQ2xvc2VkO1xyXG4gICAgYXdhaXQgdGhpcy5wb3J0LmNsb3NlKCk7XHJcbiAgICBjYWxsYmFjayhudWxsKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBjb25uZWN0KGNhbGxiYWNrOiBGdW5jdGlvbikge1xyXG4gICAgdGhpcy5rZWVwUmVhZGluZyA9IHRydWU7XHJcbiAgICBpZiAoXCJzZXJpYWxcIiBpbiBuYXZpZ2F0b3IpIHtcclxuICAgICAgLy8gVGhlIFdlYiBTZXJpYWwgQVBJIGlzIHN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci5cclxuICAgICAgbGV0IG5hdjogYW55ID0gbmF2aWdhdG9yO1xyXG4gICAgICBjb25zdCBwb3J0cyA9IGF3YWl0IG5hdi5zZXJpYWwuZ2V0UG9ydHMoKTtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdGhpcy5wb3J0ID0gYXdhaXQgbmF2LnNlcmlhbC5yZXF1ZXN0UG9ydCgpO1xyXG5cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVxdWVzdGluZyBwb3J0IGVycm9yOiBcIiArIGVycm9yKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wb3J0Lm9wZW4odGhpcy5vcHRpb25zKTtcclxuXHJcblxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJPcGVuaW5nIHBvcnQgZXJyb3I6IFwiICsgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdGV4dEVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXJTdHJlYW0oKTtcclxuICAgICAgdGhpcy53cml0YWJsZVN0cmVhbUNsb3NlZCA9IHRleHRFbmNvZGVyLnJlYWRhYmxlLnBpcGVUbyh0aGlzLnBvcnQud3JpdGFibGUpO1xyXG4gICAgICB0aGlzLndyaXRlciA9IHRleHRFbmNvZGVyLndyaXRhYmxlLmdldFdyaXRlcigpO1xyXG5cclxuICAgICAgdGhpcy5yZWFkTG9vcCgpO1xyXG5cclxuICAgICAgY2FsbGJhY2sodGhpcy5wb3J0KTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGRvZXMgTk9UIHN1cHBvcnQgdGhlIFdlYiBTZXJpYWwgQVBJXCIpO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIExpbmVCcmVha1RyYW5zZm9ybWVyIHtcclxuICBjb250YWluZXI6IGFueSA9IFwiXCI7XHJcbiAgcHJpdmF0ZSBjb250cm9sQ2hhcmFjdGVyOiBzdHJpbmc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xDaGFyYWN0ZXI6IHN0cmluZykge1xyXG4gICAgdGhpcy5jb250YWluZXIgPSAnJztcclxuICAgIHRoaXMuY29udHJvbENoYXJhY3RlciA9IGNvbnRyb2xDaGFyYWN0ZXJcclxuICB9XHJcblxyXG4gIHRyYW5zZm9ybShjaHVuazogYW55LCBjb250cm9sbGVyOiBhbnkpIHtcclxuICAgIHRoaXMuY29udGFpbmVyICs9IGNodW5rO1xyXG4gICAgY29uc3QgbGluZXMgPSB0aGlzLmNvbnRhaW5lci5zcGxpdCh0aGlzLmNvbnRyb2xDaGFyYWN0ZXIpO1xyXG4gICAgdGhpcy5jb250YWluZXIgPSBsaW5lcy5wb3AoKTtcclxuICAgIGxpbmVzLmZvckVhY2goKGxpbmU6IGFueSkgPT4gY29udHJvbGxlci5lbnF1ZXVlKGxpbmUpKTtcclxuICB9XHJcblxyXG4gIGZsdXNoKGNvbnRyb2xsZXI6IGFueSkge1xyXG4gICAgY29udHJvbGxlci5lbnF1ZXVlKHRoaXMuY29udGFpbmVyKTtcclxuICB9XHJcbn0iXX0=","originalSourcemap":{"version":3,"file":"ngx-serial.js","sourceRoot":"","sources":["../../../../projects/ngx-serial/src/lib/ngx-serial.ts"],"names":[],"mappings":[[[0,0,2,0],[6,0,2,6],[13,0,2,13],[22,0,2,22]],[[4,0,4,10],[8,0,4,14],[9,0,4,20]],[[4,0,5,10],[11,0,5,17],[14,0,5,20],[16,0,5,22],[24,0,5,30],[26,0,5,32],[30,0,5,36],[32,0,5,38],[40,0,5,46],[42,0,5,48],[43,0,5,49],[45,0,5,51],[51,0,5,57],[53,0,5,59],[59,0,5,65],[61,0,5,67],[71,0,5,77],[73,0,5,79],[76,0,5,82],[78,0,5,84],[89,0,5,95],[91,0,5,97],[97,0,5,103],[99,0,5,105],[100,0,5,106],[101,0,5,107],[110,0,5,116]],[[4,0,6,10],[10,0,6,16],[11,0,6,22]],[[4,0,7,10],[16,0,7,22],[17,0,7,33]],[[4,0,8,10],[20,0,8,26],[23,0,8,37],[27,0,8,41],[28,0,8,42]],[[4,0,9,10],[10,0,9,16],[11,0,9,22]],[[4,0,10,10],[24,0,10,30],[25,0,10,36]],[[4,0,11,10],[24,0,11,30],[25,0,11,36]],[[4,0,12,10],[15,0,12,21],[18,0,12,33],[22,0,12,37],[23,0,12,38]],[[4,0,14,2],[16,0,14,14],[28,0,14,36],[30,0,14,38],[37,0,14,51],[39,0,14,53],[55,0,14,75]],[[8,0,15,4],[12,0,15,8],[13,0,15,9],[25,0,15,21],[28,0,15,24],[40,0,15,36],[41,0,15,37]],[[8,0,16,4],[12,0,16,8],[19,0,16,15]],[[12,0,17,6],[16,0,17,10],[17,0,17,11],[24,0,17,18],[27,0,17,21],[34,0,17,28],[35,0,17,29]],[[8,0,18,4],[12,0,18,8],[28,0,18,24]],[[12,0,19,6],[16,0,19,10],[17,0,19,11],[33,0,19,27],[36,0,19,30],[52,0,19,46],[53,0,19,47]],[[4,0,21,2],[5,0,21,3]],[[4,0,22,9],[9,0,22,14],[10,0,22,15],[18,0,22,23],[19,0,22,24],[23,0,22,36]],[[8,0,23,4],[14,0,23,10],[18,0,23,14],[19,0,23,15],[25,0,23,21],[26,0,23,22],[31,0,23,27],[32,0,23,28],[36,0,23,32],[37,0,23,33],[38,0,23,34]],[[4,0,24,2],[5,0,24,3]],[[4,0,26,10],[9,0,26,15],[10,0,26,16],[18,0,26,24]],[[8,0,28,4],[15,0,28,11],[19,0,28,15],[20,0,28,16],[24,0,28,20],[25,0,28,21],[33,0,28,29],[37,0,28,33],[41,0,28,37],[42,0,28,38],[53,0,28,49],[55,0,28,51],[56,0,28,52]],[[12,0,29,6],[16,0,29,10],[17,0,29,11],[23,0,29,17],[26,0,29,20],[30,0,29,24],[31,0,29,25],[35,0,29,29],[36,0,29,30],[44,0,29,38],[45,0,29,39],[54,0,29,48],[56,0,29,50],[57,0,29,51]],[[12,0,30,6],[16,0,30,10],[17,0,30,11]],[[16,0,31,8],[23,0,31,15],[27,0,31,19],[29,0,31,21],[30,0,31,22]],[[20,0,32,10],[26,0,32,16],[28,0,32,18],[33,0,32,23],[35,0,32,25],[39,0,32,29],[41,0,32,31],[44,0,32,34],[50,0,32,40],[54,0,32,44],[55,0,32,45],[61,0,32,51],[62,0,32,52],[66,0,32,56],[68,0,32,58],[69,0,32,59]],[[20,0,33,10],[24,0,33,14],[28,0,33,18],[30,0,33,20],[31,0,33,21]],[[24,0,34,12],[68,0,34,56]],[[24,0,35,12],[28,0,35,16],[29,0,35,17],[35,0,35,23],[36,0,35,24],[47,0,35,35],[49,0,35,37],[50,0,35,38]],[[24,0,36,12],[30,0,36,18]],[[20,0,37,10],[21,0,37,11]],[[20,0,38,10],[24,0,38,14],[29,0,38,19],[31,0,38,21],[32,0,38,22]],[[24,0,39,12],[28,0,39,16],[29,0,39,17],[41,0,39,29],[42,0,39,30],[47,0,39,35],[48,0,39,36],[49,0,39,37]],[[20,0,40,10],[21,0,40,11]],[[16,0,41,8],[17,0,41,9]],[[12,0,42,6],[13,0,42,7]],[[12,0,42,8],[19,0,42,15],[24,0,42,20],[26,0,42,22],[27,0,42,23]],[[16,0,43,8],[53,0,43,45]],[[16,0,44,8],[23,0,44,15],[24,0,44,16],[29,0,44,21],[30,0,44,22],[92,0,44,84],[93,0,44,85],[94,0,44,86]],[[12,0,45,6],[13,0,45,7]],[[8,0,46,4],[9,0,46,5]],[[4,0,47,2],[5,0,47,3]],[[4,0,48,9],[9,0,48,14],[10,0,48,15],[15,0,48,20],[16,0,48,21],[24,0,48,39]],[[8,0,49,4],[12,0,49,8],[13,0,49,9],[24,0,49,20],[27,0,49,23],[32,0,49,28],[33,0,49,29]],[[8,0,50,4],[12,0,50,8],[13,0,50,9],[19,0,50,15],[20,0,50,16],[26,0,50,22],[28,0,50,24],[29,0,50,25]],[[8,0,51,4],[14,0,51,10],[18,0,51,14],[19,0,51,15],[39,0,51,35],[40,0,51,36],[45,0,51,41],[46,0,51,42],[49,0,51,45],[51,0,51,47],[54,0,51,50],[55,0,51,51],[56,0,51,52],[57,0,51,53]],[[8,0,52,4],[12,0,52,8],[13,0,52,9],[19,0,52,15],[20,0,52,16],[25,0,52,21],[27,0,52,23],[28,0,52,24]],[[8,0,53,4],[14,0,53,10],[18,0,53,14],[19,0,53,15],[39,0,53,35],[40,0,53,36]],[[8,0,54,4],[14,0,54,10],[18,0,54,14],[19,0,54,15],[23,0,54,19],[24,0,54,20],[29,0,54,25],[31,0,54,27],[32,0,54,28]],[[8,0,55,4],[16,0,55,12],[17,0,55,13],[21,0,55,17],[22,0,55,18],[23,0,55,19]],[[4,0,56,2],[5,0,56,3]],[[4,0,58,9],[9,0,58,14],[10,0,58,15],[17,0,58,22],[18,0,58,23],[26,0,58,41]],[[8,0,59,4],[12,0,59,8],[13,0,59,9],[24,0,59,20],[27,0,59,23],[31,0,59,27],[32,0,59,28]],[[8,0,60,4],[12,0,60,8],[20,0,60,16],[24,0,60,20],[33,0,60,29],[35,0,60,31],[36,0,60,32]],[[12,0,61,6],[62,0,61,56]],[[12,0,62,6],[16,0,62,10],[19,0,62,13],[22,0,62,21],[31,0,62,30],[32,0,62,31]],[[12,0,63,6],[18,0,63,12],[23,0,63,17],[26,0,63,20],[32,0,63,26],[35,0,63,29],[36,0,63,30],[42,0,63,36],[43,0,63,37],[51,0,63,45],[53,0,63,47],[54,0,63,48]],[[12,0,65,6],[16,0,65,10],[17,0,65,11]],[[16,0,66,8],[20,0,66,12],[21,0,66,13],[25,0,66,17],[28,0,66,20],[34,0,66,26],[37,0,66,29],[38,0,66,30],[44,0,66,36],[45,0,66,37],[56,0,66,48],[58,0,66,50],[59,0,66,51]],[[12,0,68,6],[13,0,68,7]],[[12,0,68,8],[19,0,68,15],[24,0,68,20],[26,0,68,22],[27,0,68,23]],[[16,0,69,8],[23,0,69,15],[24,0,69,16],[29,0,69,21],[30,0,69,22],[55,0,69,47],[58,0,69,50],[63,0,69,55],[64,0,69,56],[65,0,69,57]],[[16,0,70,8],[23,0,70,15]],[[12,0,71,6],[13,0,71,7]],[[12,0,73,6],[16,0,73,10],[17,0,73,11]],[[16,0,74,8],[22,0,74,14],[26,0,74,18],[27,0,74,19],[31,0,74,23],[32,0,74,24],[36,0,74,28],[37,0,74,29],[41,0,74,33],[42,0,74,34],[49,0,74,41],[50,0,74,42],[51,0,74,43]],[[12,0,77,6],[13,0,77,7]],[[12,0,77,8],[19,0,77,15],[24,0,77,20],[26,0,77,22],[27,0,77,23]],[[16,0,78,8],[23,0,78,15],[24,0,78,16],[29,0,78,21],[30,0,78,22],[52,0,78,44],[55,0,78,47],[60,0,78,52],[61,0,78,53],[62,0,78,54]],[[16,0,79,8],[23,0,79,15]],[[12,0,80,6],[13,0,80,7]],[[12,0,82,6],[18,0,82,12],[29,0,82,23],[32,0,82,26],[36,0,82,30],[53,0,82,47],[55,0,82,49],[56,0,82,50]],[[12,0,83,6],[16,0,83,10],[17,0,83,11],[37,0,83,31],[40,0,83,34],[51,0,83,45],[52,0,83,46],[60,0,83,54],[61,0,83,55],[67,0,83,61],[68,0,83,62],[72,0,83,66],[73,0,83,67],[77,0,83,71],[78,0,83,72],[86,0,83,80],[87,0,83,81],[88,0,83,82]],[[12,0,84,6],[16,0,84,10],[17,0,84,11],[23,0,84,17],[26,0,84,20],[37,0,84,31],[38,0,84,32],[46,0,84,40],[47,0,84,41],[56,0,84,50],[58,0,84,52],[59,0,84,53]],[[12,0,86,6],[16,0,86,10],[17,0,86,11],[25,0,86,19],[27,0,86,21],[28,0,86,22]],[[12,0,88,6],[20,0,88,14],[21,0,88,15],[25,0,88,19],[26,0,88,20],[30,0,88,24],[31,0,88,25],[32,0,88,26]],[[8,0,90,4],[9,0,90,5]],[[13,0,90,11],[14,0,90,12]],[[12,0,91,6],[19,0,91,13],[20,0,91,14],[25,0,91,19],[26,0,91,20],[76,0,91,70],[77,0,91,71],[78,0,91,72]],[[8,0,92,4],[9,0,92,5]],[[4,0,94,2],[5,0,94,3]],[[1,0,95,1]],[[0,0,97,0],[6,0,97,6],[26,0,97,26]],[[4,0,98,2],[13,0,98,11],[16,0,98,19],[18,0,98,21],[19,0,98,22]],[[4,0,99,10],[20,0,99,26],[21,0,99,35]],[[4,0,101,2],[16,0,101,14],[32,0,101,38]],[[8,0,102,4],[12,0,102,8],[13,0,102,9],[22,0,102,18],[25,0,102,21],[27,0,102,23],[28,0,102,24]],[[8,0,103,4],[12,0,103,8],[13,0,103,9],[29,0,103,25],[32,0,103,28],[48,0,103,44],[49,0,103,44]],[[4,0,104,2],[5,0,104,3]],[[4,0,106,2],[13,0,106,11],[14,0,106,12],[19,0,106,22],[21,0,106,24],[31,0,106,39]],[[8,0,107,4],[12,0,107,8],[13,0,107,9],[22,0,107,18],[26,0,107,22],[31,0,107,27],[32,0,107,28]],[[8,0,108,4],[14,0,108,10],[19,0,108,15],[22,0,108,18],[26,0,108,22],[27,0,108,23],[36,0,108,32],[37,0,108,33],[42,0,108,38],[43,0,108,39],[47,0,108,43],[48,0,108,44],[64,0,108,60],[65,0,108,61],[66,0,108,62]],[[8,0,109,4],[12,0,109,8],[13,0,109,9],[22,0,109,18],[25,0,109,21],[30,0,109,26],[31,0,109,27],[34,0,109,30],[36,0,109,32],[37,0,109,33]],[[8,0,110,4],[13,0,110,9],[14,0,110,10],[21,0,110,17],[22,0,110,18],[23,0,110,19],[27,0,110,28],[29,0,110,30],[31,0,110,32],[32,0,110,33],[42,0,110,43],[43,0,110,44],[50,0,110,51],[51,0,110,52],[55,0,110,56],[56,0,110,57],[57,0,110,58],[58,0,110,59]],[[4,0,111,2],[5,0,111,3]],[[4,0,113,2],[9,0,113,7],[10,0,113,8],[20,0,113,23]],[[8,0,114,4],[18,0,114,14],[19,0,114,15],[26,0,114,22],[27,0,114,23],[31,0,114,27],[32,0,114,28],[41,0,114,37],[42,0,114,38],[43,0,114,39]],[[4,0,115,2],[5,0,115,3]],[[1,0,116,1]]],"sourcesContent":["import { NONE_TYPE } from \"@angular/compiler\";\r\n\r\nexport class NgxSerial {\r\n\r\n  private port: any;\r\n  private options = { baudRate: 9600, dataBits: 8, parity: 'none', bufferSize: 256, flowControl: 'none' }; //Default\r\n  private writer: any;\r\n  private readFunction: Function;\r\n  private controlCharacter: string = \"\\n\";\r\n  private reader: any;\r\n  private readableStreamClosed: any;\r\n  private writableStreamClosed: any;\r\n  private keepReading: boolean = true;\r\n\r\n  constructor(readFunction: Function, options?: any, controlCharacter?: any) {\r\n    this.readFunction = readFunction;\r\n    if (options)\r\n      this.options = options;\r\n    if (controlCharacter)\r\n      this.controlCharacter = controlCharacter;\r\n\r\n  }\r\n  public async sendData(data: string) {\r\n    await this.writer.write(data);\r\n  }\r\n\r\n  private async readLoop() {\r\n\r\n    while (this.port.readable && this.keepReading) {\r\n      this.reader = this.port.readable.getReader();\r\n      try {\r\n        while (true) {\r\n          const { value, done } = await this.reader.read();\r\n          if (done) {\r\n            // Allow the serial port to be closed later.\r\n            this.reader.releaseLock();\r\n            break;\r\n          }\r\n          if (value) {\r\n            this.readFunction(value);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        // TODO: Handle non-fatal read error.\r\n        console.error(\"Read Loop error. Have the serial device been disconnected ? \");\r\n      }\r\n    }\r\n  }\r\n  public async close(callback: Function) {\r\n    this.keepReading = false;\r\n    this.reader.cancel();\r\n    await this.readableStreamClosed.catch(() => { });\r\n    this.writer.close();\r\n    await this.writableStreamClosed;\r\n    await this.port.close();\r\n    callback(null);\r\n  }\r\n\r\n  public async connect(callback: Function) {\r\n    this.keepReading = true;\r\n    if (\"serial\" in navigator) {\r\n      // The Web Serial API is supported by the browser.\r\n      let nav: any = navigator;\r\n      const ports = await nav.serial.getPorts();\r\n\r\n      try {\r\n        this.port = await nav.serial.requestPort();\r\n\r\n      } catch (error) {\r\n        console.error(\"Requesting port error: \" + error);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await this.port.open(this.options);\r\n\r\n\r\n      } catch (error) {\r\n        console.error(\"Opening port error: \" + error);\r\n        return;\r\n      }\r\n\r\n      const textEncoder = new TextEncoderStream();\r\n      this.writableStreamClosed = textEncoder.readable.pipeTo(this.port.writable);\r\n      this.writer = textEncoder.writable.getWriter();\r\n\r\n      this.readLoop();\r\n\r\n      callback(this.port);\r\n\r\n    } else {\r\n      console.error(\"This browser does NOT support the Web Serial API\");\r\n    }\r\n\r\n  }\r\n}\r\n\r\nclass LineBreakTransformer {\r\n  container: any = \"\";\r\n  private controlCharacter: string;\r\n\r\n  constructor(controlCharacter: string) {\r\n    this.container = '';\r\n    this.controlCharacter = controlCharacter\r\n  }\r\n\r\n  transform(chunk: any, controller: any) {\r\n    this.container += chunk;\r\n    const lines = this.container.split(this.controlCharacter);\r\n    this.container = lines.pop();\r\n    lines.forEach((line: any) => controller.enqueue(line));\r\n  }\r\n\r\n  flush(controller: any) {\r\n    controller.enqueue(this.container);\r\n  }\r\n}"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":846,"body":[{"type":"ExportAllDeclaration","start":174,"end":207,"exported":null,"source":{"type":"Literal","start":188,"end":206,"value":"./lib/ngx-serial","raw":"'./lib/ngx-serial'"},"attributes":[]}],"_rollupRemoved":[{"end":846,"start":208,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"/*\n * Public API Surface of ngx-serial\n */\n/*export * from './lib/ngx-serial.service';\nexport * from './lib/ngx-serial.component';\nexport * from './lib/ngx-serial.module';*/\nexport * from './lib/ngx-serial';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1zZXJpYWwvc3JjL3B1YmxpYy1hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSDs7MENBRTBDO0FBQzFDLGNBQWMsa0JBQWtCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2Ygbmd4LXNlcmlhbFxyXG4gKi9cclxuXHJcbi8qZXhwb3J0ICogZnJvbSAnLi9saWIvbmd4LXNlcmlhbC5zZXJ2aWNlJztcclxuZXhwb3J0ICogZnJvbSAnLi9saWIvbmd4LXNlcmlhbC5jb21wb25lbnQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2xpYi9uZ3gtc2VyaWFsLm1vZHVsZSc7Ki9cclxuZXhwb3J0ICogZnJvbSAnLi9saWIvbmd4LXNlcmlhbCc7XHJcbiJdfQ==","customTransformCache":false,"dependencies":["C:\\repos\\ngx-serial\\dist\\ngx-serial\\esm2022\\lib\\ngx-serial.mjs"],"id":"C:\\repos\\ngx-serial\\dist\\ngx-serial\\esm2022\\public-api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/*\n * Public API Surface of ngx-serial\n */\n/*export * from './lib/ngx-serial.service';\nexport * from './lib/ngx-serial.component';\nexport * from './lib/ngx-serial.module';*/\nexport * from './lib/ngx-serial';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1zZXJpYWwvc3JjL3B1YmxpYy1hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSDs7MENBRTBDO0FBQzFDLGNBQWMsa0JBQWtCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2Ygbmd4LXNlcmlhbFxyXG4gKi9cclxuXHJcbi8qZXhwb3J0ICogZnJvbSAnLi9saWIvbmd4LXNlcmlhbC5zZXJ2aWNlJztcclxuZXhwb3J0ICogZnJvbSAnLi9saWIvbmd4LXNlcmlhbC5jb21wb25lbnQnO1xyXG5leHBvcnQgKiBmcm9tICcuL2xpYi9uZ3gtc2VyaWFsLm1vZHVsZSc7Ki9cclxuZXhwb3J0ICogZnJvbSAnLi9saWIvbmd4LXNlcmlhbCc7XHJcbiJdfQ==","originalSourcemap":{"version":3,"file":"public-api.js","sourceRoot":"","sources":["../../../projects/ngx-serial/src/public-api.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0]],[],[[42,0,6,42]],[[0,0,7,0],[14,0,7,14],[32,0,7,32],[33,0,7,33]]],"sourcesContent":["/*\r\n * Public API Surface of ngx-serial\r\n */\r\n\r\n/*export * from './lib/ngx-serial.service';\r\nexport * from './lib/ngx-serial.component';\r\nexport * from './lib/ngx-serial.module';*/\r\nexport * from './lib/ngx-serial';\r\n"]},"resolvedIds":{"./lib/ngx-serial":{"attributes":{},"external":false,"id":"C:\\repos\\ngx-serial\\dist\\ngx-serial\\esm2022\\lib\\ngx-serial.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":496,"body":[{"type":"ExportAllDeclaration","start":48,"end":77,"exported":null,"source":{"type":"Literal","start":62,"end":76,"value":"./public-api","raw":"'./public-api'"},"attributes":[]}],"_rollupRemoved":[{"end":496,"start":78,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXNlcmlhbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1zZXJpYWwvc3JjL25neC1zZXJpYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","customTransformCache":false,"dependencies":["C:\\repos\\ngx-serial\\dist\\ngx-serial\\esm2022\\public-api.mjs"],"id":"C:\\repos\\ngx-serial\\dist\\ngx-serial\\esm2022\\ngx-serial.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXNlcmlhbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1zZXJpYWwvc3JjL25neC1zZXJpYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","originalSourcemap":{"version":3,"file":"ngx-serial.js","sourceRoot":"","sources":["../../../projects/ngx-serial/src/ngx-serial.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"resolvedIds":{"./public-api":{"attributes":{},"external":false,"id":"C:\\repos\\ngx-serial\\dist\\ngx-serial\\esm2022\\public-api.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"node-resolve","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"node-resolve":{},"json":{},"file-loader":{}}}